<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Mis Reservas</h2>
        <a class="btn btn-secondary" routerLink="agregar">Agregar Reserva</a>
    </div>
    @if ((reservas$ | async)?.length === 0) {
    <div class="alert alert-info text-center" role="alert">
        No tienes reservas registradas.
    </div>
    } @else {
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-2 g-3">
        @for (reserva of (reservas$ | async); track reserva.id) {
        <div class="col">
            <div class="card h-100 shadow-sm">
                <div class="card-body d-flex flex-column">
                    <p class="card-text"><strong>Fecha:</strong> {{ reserva.fecha }}</p>
                    <p class="card-text"><strong>Hora:</strong> {{ reserva.horaInicio }} - {{ reserva.horaFin }}</p>
                    <p class="card-text"><strong>Asistentes:</strong> {{ reserva.asistentes }}</p>
                    <p class="card-text">
                        <strong>Estado:</strong>
                        <span
                            [class]="{'badge bg-success': reserva.estado === 'CONFIRMADA', 'badge bg-warning text-dark': reserva.estado === 'PENDIENTE', 'badge bg-danger': reserva.estado === 'CANCELADA'}">
                            {{ reserva.estado }}
                        </span>
                    </p>

                    <hr>
                    <h6>Detalles del Espacio:</h6>
                    <p class="card-text"><strong>Nombre:</strong> {{ reserva.espacio.nombre }}</p>
                    <p class="card-text"><strong>Ubicaci칩n:</strong> {{ reserva.espacio.ubicacion }}</p>
                    <p class="card-text"><strong>Aforo M치ximo:</strong> {{ reserva.espacio.aforoMaximo }}</p>
                    <p class="card-text"><strong>Descripci칩n:</strong> {{ reserva.espacio.descripcion }}</p>

                    <hr>
                    <h6>Detalles del Plan:</h6>
                    <p class="card-text"><strong>Nombre:</strong> {{ reserva.plan.nombre }}</p>
                    <p class="card-text"><strong>Descripci칩n:</strong> {{ reserva.plan.descripcion }}</p>

                    <hr>
                    <h6>Detalles del Usuario:</h6>
                    <p class="card-text"><strong>Usuario:</strong> {{ reserva.usuario.usuario }}</p>
                    <p class="card-text"><strong>Correo:</strong> {{ reserva.usuario.correo }}</p>
                </div>
            </div>
        </div>
        }
    </div>
    }
</div>
